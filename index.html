<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KWT CALCULATOR</title>
    <link rel="stylesheet" href="/public/assets/css/styles.css">
    <script src="/public/assets/js/script.js"></script>
</head>
<body>
    <script>

    </script>
    <div class="main-calculator-container">

        <div class="el input-box">
            <div onclick="addHistory()" id="inp1">
                <div></div>
            </div>
            <div id="inp">
                <div></div>
            </div>
        </div>

        <div class="el num-box">
            <button onclick="findPercentage()">%</button>
            <button onclick="setSign()">+/-</button>
            <button onclick="remove()">C</button>
            <button onclick="addNum(1)">1</button>
            <button onclick="addNum(2)">2</button>
            <button onclick="addNum(3)">3</button>
            <button onclick="addNum(4)">4</button>
            <button onclick="addNum(5)">5</button>
            <button onclick="addNum(6)">6</button>
            <button onclick="addNum(7)">7</button>
            <button onclick="addNum(8)">8</button>
            <button onclick="addNum(9)">9</button>
            <button onclick="addNum(0)">0</button>
            <button class='big-button' onclick="addLogic('.')">,</button>

        </div>

        <div class="el logicSimbol-box">
            <button onclick="addLogic('/')">/</button>
            <button onclick="addLogic('*')">X</button>
            <button onclick="addLogic('-')">-</button>
            <button onclick="addLogic('+')">+</button>
            <button onclick="result()">=</button>
        </div>

    </div>
</body>
  
  <script>
    const logicSymbol = ['-', '/', '*', '+', '=', '.']

    let inputBox = document.getElementById('inp');
    let historyBox = document.getElementById('inp1');

    function addNum(x) {
        if (inputBox.innerText.length > 44) {
            alert('Кол-во символов привышено')
            return
        }
        return inputBox.innerHTML += x;
    }

    function result() {
        console.log(eval(inputBox))
        return inputBox.innerHTML= eval(inputBox.innerText)
    }

    function remove() {
        historyBox.innerHTML = ' '
        historyBox.innerHTML = inputBox.innerHTML
        inputBox.innerHTML = ' ' 
        return ; 
    }
    function addHistory() {
        inputBox.innerHTML = historyBox.innerHTML
        historyBox.innerHTML = ' '
    }

    function addLogic(x) {
        let last = inputBox.innerText.length -1;
        if (logicSymbol.includes(inputBox.innerText[last])) {
            return inputBox.innerText = inputBox.innerText.slice(0,-1) + x
        }
        if (inputBox.innerText.length > 44) {
            alert('Кол-во символов привышено')
            return
        }
        return inputBox.innerHTML += x;
    }

    function findPercentage() {
        return inputBox.innerText = eval(inputBox.innerText + '/ 100')
    }
    
    function setSign() {
        let start = 0;

        if (inputBox.innerText[start] == '-') {
            return inputBox.innerText = '' + inputBox.innerText.slice(1)
        }
        else if (inputBox.innerText[start] == '+') { 
            return inputBox.innerText = '-' + inputBox.innerText.slice(1)
        }
        else {
            return inputBox.innerText = '-' + inputBox.innerText
        }
    }
  </script>
</html>